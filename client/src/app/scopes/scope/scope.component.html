<div class="scope-grid">
  <div class="grid-area grid-top">
    <mat-card class="scope-card" *ngIf="scope">
      <mat-card-title class="row-flex"
        ><mat-icon>{{ scope.data.icon }}</mat-icon> {{ scope.data.name }}
      </mat-card-title>
      <mat-card-subtitle>
        {{ scope.data.categories.length }} categories
      </mat-card-subtitle>
      <mat-card-content>
        <div style="display: flex; flex-direction: column; gap: 1rem">
          <mat-chip-list #chipList aria-label="Category selection" multiple>
            <mat-chip
              #chipItem="matChip"
              *ngFor="let category of fixed"
              color="{{ category.fixed ? 'primary' : 'accent' }}"
              selected
            >
              <mat-icon>{{ category.icon }}</mat-icon
              >&nbsp;{{ category.name }}
            </mat-chip>
            <button mat-icon-button><mat-icon>add</mat-icon></button>
          </mat-chip-list>
          <mat-divider inset></mat-divider>
          <mat-chip-list #chipList aria-label="Category selection" multiple>
            <mat-chip
              #chipItem="matChip"
              *ngFor="let category of variable"
              color="{{ category.fixed ? 'primary' : 'accent' }}"
              selected
            >
              <mat-icon>{{ category.icon }}</mat-icon
              >&nbsp;{{ category.name }}
            </mat-chip>
          </mat-chip-list>
        </div>

        <!-- <mat-accordion multi>
          <mat-expansion-panel expanded>
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{ fixed.length }} fixed categories
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
              <mat-chip-list #chipList aria-label="Category selection" multiple>
                <mat-chip
                  #chipItem="matChip"
                  *ngFor="let category of fixed"
                  color="{{ category.fixed ? 'primary' : 'accent' }}"
                  selected
                >
                  <mat-icon>{{ category.icon }}</mat-icon
                  >&nbsp;{{ category.name }}
                </mat-chip>
              </mat-chip-list>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel expanded>
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{ variable.length }} variable categories
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
              <mat-chip-list #chipList aria-label="Category selection" multiple>
                <mat-chip
                  #chipItem="matChip"
                  *ngFor="let category of variable"
                  color="{{ category.fixed ? 'primary' : 'accent' }}"
                  selected
                >
                  <mat-icon>{{ category.icon }}</mat-icon
                  >&nbsp;{{ category.name }}
                </mat-chip>
              </mat-chip-list>
            </div>
          </mat-expansion-panel>
        </mat-accordion> -->
      </mat-card-content>
      <mat-card-footer>
        <mat-toolbar *ngIf="!scope.data.shared">private</mat-toolbar>
        <mat-toolbar *ngIf="scope.data.shared"
          >shared with {{ scope.data.users.length - 1 }} users</mat-toolbar
        >
      </mat-card-footer>
    </mat-card>
  </div>
  <div class="grid-area grid-left">
    <!-- <app-pie-chart></app-pie-chart> -->
    <app-monthly-categories
      *ngIf="acumulator"
      [acumulator]="acumulator"
      (go)="goToMonth($event)"
    ></app-monthly-categories>
  </div>
  <div class="grid-area grid-right"></div>
</div>
